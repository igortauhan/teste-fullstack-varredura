create table tb_ativos (id int8 generated by default as identity, domain varchar(255), email varchar(255), name varchar(255), primary key (id));
create table tb_keyvalues (id int8 generated by default as identity, key varchar(255), value varchar(255), records_id int8, primary key (id));
create table tb_records (id int8 generated by default as identity, accesslevel int4, accesslevelh varchar(255), added timestamp, bucket varchar(255), bucketh varchar(255), date timestamp, description varchar(255), group_field varchar(255), historyfile varchar(255), indexfile varchar(255), instore boolean, media int4, mediah varchar(255), name varchar(255), owner varchar(255), perfectmatch boolean, randomid varchar(255), simhash varchar(255), simhashh varchar(255), size int4, storageid varchar(255), systemid varchar(255), tags varchar(255), type int4, typeh varchar(255), xscore int4, ativo_id int8, primary key (id));
create table tb_relations (id int8 generated by default as identity, relation int4, target varchar(255), records_id int8, primary key (id));
create table tb_tagsh (id int8 generated by default as identity, class_withouth int4, classh varchar(255), value varchar(255), valueh varchar(255), records_id int8, primary key (id));
alter table if exists tb_ativos add constraint UK_7w09s22tcax7jud2w67qesvcl unique (domain);
alter table if exists tb_ativos add constraint UK_pdbmtacqgtjod9tvhdxuxrhmh unique (email);
alter table if exists tb_keyvalues add constraint FKekw72i98w4jcb4dvvgidn9qso foreign key (records_id) references tb_records;
alter table if exists tb_records add constraint FK5lep0w8anwvioxdv06truyt6c foreign key (ativo_id) references tb_ativos;
alter table if exists tb_relations add constraint FK91v4wdmpdi3380f6di96teri1 foreign key (records_id) references tb_records;
alter table if exists tb_tagsh add constraint FKpno0iu25sjck74wua0kt04qw0 foreign key (records_id) references tb_records;
